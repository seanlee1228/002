# 班级/用户批量录入模板

## 一、班级录入模板

### 常规年级（29 班）

| 班级名称 | 年级 | 班号 |
|---------|------|------|
| 101 | 1 | 1 |
| 102 | 1 | 2 |
| 103 | 1 | 3 |
| 104 | 1 | 4 |
| 105 | 1 | 5 |
| 201 | 2 | 1 |
| 202 | 2 | 2 |
| 203 | 2 | 3 |
| 204 | 2 | 4 |
| 205 | 2 | 5 |
| 206 | 2 | 6 |
| 301 | 3 | 1 |
| 302 | 3 | 2 |
| 303 | 3 | 3 |
| 304 | 3 | 4 |
| 305 | 3 | 5 |
| 306 | 3 | 6 |
| 401 | 4 | 1 |
| 402 | 4 | 2 |
| 403 | 4 | 3 |
| 404 | 4 | 4 |
| 409 | 4 | 9 |
| 410 | 4 | 10 |
| 501 | 5 | 1 |
| 502 | 5 | 2 |
| 503 | 5 | 3 |
| 504 | 5 | 4 |
| 509 | 5 | 9 |
| 510 | 5 | 10 |

### 融通部 IC（10 班，系统中 grade=6）

| 班级名称 | 年级 | 班号 |
|---------|------|------|
| 307 | 6 | 1 |
| 308 | 6 | 2 |
| 405 | 6 | 3 |
| 406 | 6 | 4 |
| 407 | 6 | 5 |
| 408 | 6 | 6 |
| 505 | 6 | 7 |
| 506 | 6 | 8 |
| 507 | 6 | 9 |
| 508 | 6 | 10 |

> 融通班（307、308、405-408、505-508）在系统中统一使用 grade=6 作为虚拟年级，独立于原物理年级进行管理和统计。

### 字段说明

| 字段 | 必填 | 格式 | 说明 |
|------|------|------|------|
| 班级名称 | 是 | 文本 | 显示名称，使用数字编号（如 "101"、"307"） |
| 年级 | 是 | 数字 | 1-5 为常规年级，6 为融通部 |
| 班号 | 是 | 数字 | 班级序号（正整数） |

### 约束

- 同一年级+班号组合不可重复（唯一约束）
- 年级和班号必须为正整数

---

## 二、用户录入模板

| 姓名 | 用户名 | 初始密码 | 角色 | 负责年级 | 所属班级 |
|------|--------|---------|------|---------|---------|
| 系统管理员 | admin | 123456 | ADMIN | | |
| 一年级负责人 | grade1 | 123456 | GRADE_LEADER | 1 | |
| 二年级负责人 | grade2 | 123456 | GRADE_LEADER | 2 | |
| 三年级负责人 | grade3 | 123456 | GRADE_LEADER | 3 | |
| 四年级负责人 | grade4 | 123456 | GRADE_LEADER | 4 | |
| 五年级负责人 | grade5 | 123456 | GRADE_LEADER | 5 | |
| 融通部负责人 | grade6 | 123456 | GRADE_LEADER | 6 | |
| 张老师 | zhanglaoshi | 123456 | DUTY_TEACHER | 1 | |
| 李老师 | lilaoshi | 123456 | DUTY_TEACHER | 2 | |
| 何老师 | helaoshi | 123456 | DUTY_TEACHER | 3 | |
| 王老师 | wanglaoshi | 123456 | DUTY_TEACHER | 4 | |
| 孙老师 | sunlaoshi | 123456 | DUTY_TEACHER | 5 | |
| 周老师 | zhoulaoshi | 123456 | DUTY_TEACHER | 6 | |
| 赵老师 | teacher1 | 123456 | CLASS_TEACHER | | 101 |
| 钱老师 | teacher2 | 123456 | CLASS_TEACHER | | 102 |
| ... | ... | ... | CLASS_TEACHER | | ... |
| （共 39 名班主任，每班 1 名） | | | | | |

### 字段说明

| 字段 | 必填 | 格式 | 说明 |
|------|------|------|------|
| 姓名 | 是 | 文本（1-50字符） | 用户显示名称 |
| 用户名 | 是 | 英文/数字（2-30字符） | 登录账号，全局唯一 |
| 初始密码 | 是 | 文本（≥6字符） | 首次登录密码，建议统一设为 123456 后通知用户修改 |
| 角色 | 是 | 枚举值 | 见下方角色代码表 |
| 负责年级 | 条件必填 | 数字 | GRADE_LEADER 和 DUTY_TEACHER 需填，1-5 为常规年级，6 为融通部 |
| 所属班级 | 条件必填 | 文本 | 仅 CLASS_TEACHER 需填，须与班级录入表中的"班级名称"完全一致 |

### 角色代码表

| 角色代码 | 中文名称 | 说明 | 必填的额外字段 |
|---------|---------|------|-------------|
| `ADMIN` | 系统管理员 | 全局最高权限，管理所有功能 | 无 |
| `GRADE_LEADER` | 年级负责人 | 管理本年级/融通部的周评和检查项 | 负责年级 |
| `DUTY_TEACHER` | 值日教师 | 负责本年级/融通部的日常评分 | 负责年级 |
| `CLASS_TEACHER` | 班主任 | 查看本班成绩数据 | 所属班级 |
| `SUBJECT_TEACHER` | 科任教师 | 考勤录入（开发中） | 无 |

### 约束

- 用户名全局唯一，不可重复
- 一个班级可以有多个班主任（如正副班主任）
- 每个年级（含融通部）建议至少配置 1 名 GRADE_LEADER 和 1 名 DUTY_TEACHER
- ADMIN 角色建议只设 1 个

---

## 三、录入顺序

**必须先录班级，再录用户**（因为班主任需要关联到班级）。

1. 在系统管理后台 → 班级管理 → 逐个添加班级
2. 在系统管理后台 → 用户管理 → 逐个添加用户

> 当前系统暂未提供 Excel 批量导入功能，需通过管理后台逐条录入，或通过种子脚本一次性导入。

---

## 四、种子脚本快速导入

如果是首次部署，可直接修改 `prisma/seed.ts` 中的数据后运行：

```bash
npm run db:seed
```

该命令会清空现有数据并重新创建所有班级、用户和 90 天模拟评分记录。

**注意**：此操作会删除所有现有数据，仅适用于初始化部署，不适用于已有生产数据的环境。
